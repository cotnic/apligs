<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, shrink-to-fit=no, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>APLIGS</title>

  <!-- jQuery -->
  <script src="js/jquery.js"></script>
  <!-- Custom JS -->
  <script src="js/main.js"></script>
  <!-- Bootstrap Core CSS -->
  <link href="css/bootstrap.css" rel="stylesheet">
  <!-- Custom CSS -->
  <link href="css/home.css" rel="stylesheet">

</head>

<body>
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-2 col-sm-offset-1 well" id="sidebarWrapper">
      <!-- USER -->
      <div class="well">
         <img src="assets/usr1.jpg" class="img-responsive" alt="Random Name">  
         <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" style="width: 100%;">
            <span class="caret"></span></button>
            <ul class="dropdown-menu">
              <li class="dropdown-header" id="dropDownUsername"></li>
              <li><a href="" class="userSetingsButton">User settings</a></li>
              <li><a href="" class="logoutButton">Log out</a></li>
            </ul>
          </div>
      </div>
       <!-- NAVIGATION -->
        <ul class="nav nav-pills nav-stacked">
          <li class="active"><a data-toggle="pill" href="#contentMostRecent" id="navMostRecent">Most recent posts</a></li>
          <li><a data-toggle="pill" href="#contentBandLooks">Band looking for...</a></li>
          <li><a data-toggle="pill" href="#contentMusicianLooks">Musician looking for...</a></li>
          <li><a data-toggle="pill" href="#newPost">New post</a></li>
          <li><a data-toggle="pill" href="#yourPosts">Your posts</a></li>
          <li><a data-toggle="pill" href="#searchUsers">Search users</a></li>
          <li><a href="#" id="messagesB">Messages <span class="badge" id="unreadMessagesBadge">0/2</span></a></li>
          <li><a href="#" class="logoutButton">Log out</a></li>
        </ul><br>
      </div>
      <div class="col-sm-6 well content tab-content">
      <!-- MOST RECENT POSTS -->
        <div id="contentMostRecent" class="tab-pane active fade in"  data-toggle="collapse" data-target="#contentPostDetails">
          <div class="panel-group " id="accordion contentMostRecentInner">
            <div id="contentMostRecentInner">
              
            </div>
          </div>
        </div>
           
        <!-- BAND LOOKING FOR -->
        <div id="contentBandLooks" class="contentPart tab-pane fade">
          <div class="panel-group" id="accordion1">
            <div class="panel panel-default entry">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <div data-toggle="collapse" data-parent="#accordion1" href="#collapse5">
                    <div id="entryTitle">Rock band looking for guitarist</div>
                    <br>
                    <table class="table entryTable">
                      <tbody>
                        <tr>
                          <td class="entryType">Band looking for...</td>
                          <td class="entryInstrument">Singer</td>
                          <td class="entryGenre">Pop</td>
                          <td class="entryDate">3.11.2016</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </h4>
              </div>
              <div id="collapse5" class="panel-collapse collapse in">
                <div class="panel-body">
                  <p class="entryText">Experienced band from somewhere looking for a skilled guitarist with ability of being quiet..</p>
                  <button type="button" class="btn btn-primary">Contact user</button>
                </div>
              </div>
            </div>
            <div class="panel panel-default entry">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <div data-toggle="collapse" data-parent="#accordion1" href="#collapse6">
                    <div id="entryTitle">Pop group looking for singer</div>
                    <br>
                    <table class="table entryTable">
                      <tbody>
                        <tr>
                          <td class="entryType">Band looking for...</td>
                          <td class="entryInstrument">Singer</td>
                          <td class="entryGenre">Pop</td>
                          <td class="entryDate">3.11.2016</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </h4>
              </div>
              <div id="collapse6" class="panel-collapse collapse">
                <div class="panel-body">
                  <p class="entryText">Looking for a good female or male singer in early 20s.</p>
                  <button type="button" class="btn btn-primary">Contact user</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- MUSICIAN LOOKING FOR -->
        <div id="contentMusicianLooks" class="contentPart tab-pane fade">
          <div class="panel-group" id="accordion">
            <div class="panel panel-default entry">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <div data-toggle="collapse" data-parent="#accordion" href="#collapse7">
                    <div id="entryTitle">Drummer looking for rock band</div>
                    <br>
                    <table class="table entryTable">
                      <tbody>
                        <tr>
                          <td class="entryType">Musician looking for...</td>
                          <td class="entryInstrument">Drummer</td>
                          <td class="entryGenre">Rock</td>
                          <td class="entryDate">2.11.2016</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </h4>
              </div>
              <div id="collapse7" class="panel-collapse collapse">
                <div class="panel-body">
                  <p class="entryText">Hi. I'm looking for a good rock/metal band.</p>
                  <button type="button" class="btn btn-primary">Contact user</button>
                </div>
              </div>
            </div> 
          </div>     
        </div>
        <!-- NEW POST -->

        <div id="newPost" class="contentPart tab-pane fade">
          <ul class="nav nav-pills nav-justified">
            <li class="active"><a data-toggle="pill" href="#newPostBandLooks">Band looking for...</a></li>
            <li><a data-toggle="pill" href="#newPostMusicianlooks">Musician looking for...</a></li>
          </ul>
          <div class="tab-content">
            <div id="newPostBandLooks" class="tab-pane fade in active">
            <br>
            <form>
              <div class="form-group" id="instrumentsFormGroup">
                <select class="form-control" id="instruments">
                  <option disabled selected></option>
                  <option disabled selected>The instrument you are look for</option>
                  <option>Guitar</option>
                  <option>Bass guitar</option>
                  <option>Drums</option>
                  <option>Vocals</option>
                  <option>Banjo</option>
                </select>
              </div>
              <div class="form-group" id="genreFormGroup">
                <select class="form-control" id="genre">
                  <option disabled selected></option>
                  <option disabled selected>Your genre</option>
                  <option>Rock/metal</option>
                  <option>Country</option>
                  <option>Pop</option>
                  <option>Rap</option>
                  <option>Jazz</option>
                </select>
              </div>
              <div class="form-group" id="locationFormGroup">
                  <select class="form-control" id="location">
                      <option disabled selected></option>
                      <option disabled selected>Location of your band</option>
                      <option value="loc1">loc1</option>
                      <option value="loc2">loc2</option>
                </select>
              </div>
              <div id="titleFormGroup">
                <input id="postTitle" name="postTitle" type="text" class="form-control" placeholder="Post title">
              </div>
              <br>
              <div class="form-group">
                <textarea class="form-control" rows="5" id="postDetails" name="postDetails" placeholder="Post details"></textarea>
              </div>
              <input type="submit" class="btn btn-primary btn-block" value="Publish">  
            </form>
            </div>
            <div id="newPostMusicianlooks" class="tab-pane fade">
              <br>
              <div class="form-group" id="instrumentsFormGroup">
                <select class="form-control" id="instruments">
                  <option disabled selected></option>
                  <option disabled selected>The instrument you offer</option>
                  <option>Guitar</option>
                  <option>Bass guitar</option>
                  <option>Drums</option>
                  <option>Vocals</option>
                  <option>Banjo</option>
                </select>
              </div>
              <div class="form-group" id="genreFormGroup">
                <select class="form-control" id="genre">
                  <option disabled selected></option>
                  <option disabled selected>Your preffered genre</option>
                  <option>Rock/metal</option>
                  <option>Country</option>
                  <option>Pop</option>
                  <option>Rap</option>
                  <option>Jazz</option>
                </select>
              </div>
              <div class="form-group" id="locationFormGroup">
                  <select class="form-control" id="location">
                      <option disabled selected></option>
                      <option disabled selected>Your location</option>
                      <option value="loc1">loc1</option>
                      <option value="loc2">loc2</option>
                </select>
              </div>
              <div id="titleFormGroup">
                <input id="postTitle" name="postTitle" type="text" class="form-control" placeholder="Post title">
              </div>
              <br>
              <div class="form-group">
                <textarea class="form-control" rows="5" id="postDetails" name="postDetails" placeholder="Post details"></textarea>
              </div>
              <input type="submit" class="btn btn-primary btn-block" value="Publish">  
            </div>
          </div>
      </div>
      <!-- YOUR POSTS -->
      <div id="yourPosts" class="contentPart tab-pane fade" >
        Posts
      </div>
      <!-- SEARCH USERS -->
      <div id="searchUsers" class="contentPart tab-pane fade">
        <div class="tab-content">
          <form>
             <input id="searchEmail" name="searchEmail" type="text" class="form-control" placeholder="E-mail (Can be empty)"><br>

             <div class="col-sm-4">
               <div class="form-group" id="instrumentsFormGroupSearch">
                  <select class="form-control" id="searchInstruments">
                    <option disabled selected></option>
                    <option disabled selected>Filter: Instrument</option>
                    <option>Guitar</option>
                    <option>Bass guitar</option>
                    <option>Drums</option>
                    <option>Vocals</option>
                    <option>Banjo</option>
                  </select>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="form-group" id="genreFormGroupSearch">
                  <select class="form-control" id="searchGenre">
                    <option disabled selected></option>
                    <option disabled selected>Filter: Genre</option>
                    <option>Rock/metal</option>
                    <option>Country</option>
                    <option>Pop</option>
                    <option>Rap</option>
                    <option>Jazz</option>
                  </select>
                </div>
              </div>
              <div class="col-sm-4">
                <div class="form-group" id="locationFormGroupSearch">
                    <select class="form-control" id="searchLocation">
                        <option disabled selected></option>
                        <option disabled selected>Filter: Location</option>
                        <option value="loc1">loc1</option>
                        <option value="loc2">loc2</option>
                  </select>
                </div>
              </div>
              <input type="submit" class="btn btn-primary btn-block" value="Search"> 
          </form>
          <br>
          <div id="searchResults" >
            <div class="panel panel-default">
              <div class="panel-body">
                <div class="col-md-12 resultsName">
                  Janez Novak
                </div>
                <div class="col-md-2 column resultsInstrument">
                  Vocals
                </div> 
                <div class="col-md-2 column resultsLocation">
                  Ljubljana
                </div>
                <div class="col-md-2 column resultsGenre">
                  Rock
                </div>
                <div class="col-md-2 col-md-offset-4 column">
                  <button type="submit" class="btn btn-primary btn-block resultsContactUser"><span class="glyphicon glyphicon-envelope"></span></button>
                </div>
              </div>
            </div>
          </div>         
        </div>
    </div>
  </div>

  <!-- Bootstrap Core JavaScript -->
  <script src="js/bootstrap.min.js"></script>
  <script>
    var offset = 0;
    var limit = 6;
    function getLatestAdds(){
      $.getJSON("http://localhost:8080/apligs-rest/v1/oglasi?offset=" + offset +"0&limit=" + limit +"", function(data) {
        for (var i = data.length - 1; i >= 0; i--) {
          $("#contentMostRecentInner").innerHTML = "";
          $("#contentMostRecentInner").append("<div class=\"panel panel-default entry\" id=\"entry" + i +"\">\
          <div class=\"panel-heading\">\
            <h4 class=\"panel-title\">\
              <div data-toggle=\"collapse\" data-parent=\"#accordion\" href=\"#collapse" + i + "\">\
                <div id=\"entryTitle\">" + data[i].ogNaslov +"</div>\
                <br>\
                <table class=\"table entryTable\">\
                  <tbody>\
                    <tr>\
                      <td class=\"entryType\">Band looking for...</td>\
                      <td class=\"entryInstrument\">TODO</td>\
                      <td class=\"entryGenre\">" + data[i].zvrst.zvNaziv + "</td>\
                      <td class=\"entryDate\">" + data[i].ogObjavljen + "</td>\
                    </tr>\
                  </tbody>\
                </table>\
              </div>\
            </h4>\
          </div>\
          <div id=\"collapse" + i + "\" class=\"panel-collapse collapse\">\
            <div class=\"panel-body\">\
              <p class=\"entryText\">" + data[i].ogOpis + "</p>\
              <button type=\"button\" class=\"btn btn-primary\">Contact user</button>\
            </div>\
          </div>\
        </div>");
        }
      })
    }

    $( document ).ready(function() {
      var username=getCookie("username");
      if (username!="") {
          $("#dropDownUsername").text(username);
          getLatestAdds();
          $('.content').height($('.content').height()+100);  
      } else {
          window.location = 'index.html';
      }
    });   

    /*LOGOUT BUTTON*/
    $(".logoutButton").click(function(){
        document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 UTC";
        window.location = 'index.html';
    });

    /*USER SETTING*/
    $(".userSetingsButton").click(function(){
      window.location = 'editUser.html';
    });



   $(window).scroll(function () {
    if ($(window).scrollTop() + $(window).height() >= 
    $('.content').offset().top + $('.content').height() ) { 
    $('.content').height($('.content').height()+100);
    }    
  });
  </script>

</body>

</html>
